# MHWS 护石管理器

MHWS护石管理器是一个用于管理《怪物猎人：荒野》(Monster Hunter Wilds)护石的Web应用。该应用帮助玩家高效管理和评估护石，通过智能算法计算等效孔位和核心技能价值，辅助玩家做出最优的护石选择决策。

## 功能特性

### 🎯 技能管理

- 添加、编辑和删除技能
  - 标记技能类型
  - 配置技能最大等级和对应装饰品等级
  - 标记核心技能
- 按类型筛选（武器/防具/特殊技能）

### 💎 护石管理

- 添加护石（稀有度、技能、孔位）
- **智能判定系统**：自动检测低质量护石
- **实时计算**：等效孔位和核心技能价值
- 强大的筛选和排序功能
- 默认按核心技能价值排序

### 📊 数据管理

- 导出为JSON格式（完整备份）
- 导出护石为CSV格式（Excel兼容）
- 从JSON文件导入数据
- 数据统计和分析
- 重置到初始状态

## 核心概念

### 等效孔位

将护石的所有技能和孔位统一转换为标准化的"等效孔位"。计算规则：

- 护石上的**每个技能等级**，都会换算为一个其装饰品等级对应的孔位。
- 护石上自带的孔位直接计入。

例如：一个拥有2级"精神抖擞"（装饰品为2级孔）的护石，该技能等效于 **2个2级孔位**。

### 核心技能价值

用于评估护石综合价值的分数，不基于等效孔位。计算规则：

- **核心技能等级之和** + **孔位价值**

其中，孔位价值定义如下：

- **武器孔位**: 1级=1点，2级=2点，3级=3点
- **防具孔位**: 2级=1点，3级=1点 (1级不计入价值)

### 智能判定

在添加新护石时，系统会自动与现有护石进行比较，以防止保留劣质护石。主要检测逻辑：

1. **完爆检查**：检查是否存在一个现有护石，其在**所有技能和等效孔位**上都优于或等于新护石。如果存在，则新护石被判定为“被完爆”，建议不保留。
2. **价值检查**：检查新护石的核心价值是否远低于平均水平。

## 技术栈

- **React**: 19.1.1 + TypeScript
- **UI框架**: Tailwind CSS 4.1.14 + shadcn/ui
- **状态管理**: React Context API + useReducer
- **数据存储**: LocalStorage
- **构建工具**: Vite 7.1.7
- **代码规范**: ESLint 9.36.0

## 项目结构

```bash
mhws-charm-manager/
├── public/              # 静态资源 (图标等)
├── src/
│   ├── components/      # React组件
│   ├── contexts/        # React Context
│   ├── data/            # 初始数据
│   ├── hooks/           # 自定义Hooks
│   ├── lib/             # 工具库 (shadcn/ui)
│   ├── types/           # TypeScript类型定义
│   ├── utils/           # 工具函数 (核心算法)
│   ├── App.tsx          # 应用主组件
│   └── main.tsx         # 应用入口
├── index.html           # HTML模板
├── package.json         # 项目依赖
└── README.md            # 项目说明
```

## 本地开发

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 预览生产版本
npm run preview
```

## 数据存储

所有数据（技能和护石）都存储在浏览器的LocalStorage中。

- **自动保存**：所有更改都会自动保存，无需手动操作。
- **本地优先**：数据仅存储在你的浏览器本地，不会上传到任何服务器，确保隐私安全。
- **备份建议**：建议定期使用“数据管理”中的导出功能，将数据备份为JSON文件，以防本地数据丢失。

## 浏览器兼容性

- Chrome/Edge 90+
- Firefox 88+
- Safari 14+

## 开源协议

MIT License

## 贡献

欢迎通过提交Issue和Pull Request来做出贡献！
